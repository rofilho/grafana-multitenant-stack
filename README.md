ğŸ“Š Grafana Multi-tenant StackA self-hosted, multi-tenant monitoring platform for Linux servers, Docker containers, and databases. Built with the Grafana LGTM stack (Loki, Grafana, Tempo, and Mimir).ğŸ“¸ System Overview (Dashboards)Para garantir a melhor visualizaÃ§Ã£o em diferentes telas, as capturas de tela foram organizadas em uma galeria tÃ©cnica:Infrastructure & MetricsLogs & Security<img src="https://github.com/user-attachments/assets/bd9396a6-43cc-4ffe-b1f0-3f178b9282e1" width="450" alt="Server Metrics"><img src="https://github.com/user-attachments/assets/6cd2ec54-c828-481d-8def-683a095b7773" width="450" alt="Log Aggregation">Application TracingUptime & SSL Probes<img src="https://github.com/user-attachments/assets/098f4f0a-8ebc-4522-81bf-4a8c386145ef" width="450" alt="Tempo Tracing"><img src="https://github.com/user-attachments/assets/8b46337e-cec0-4c49-8a49-053ddc883c97" width="450" alt="Blackbox Exporter">ğŸ’¡ Resumo Executivo: Esta soluÃ§Ã£o elimina a dependÃªncia de SaaS e custos por agente, permitindo isolamento total de dados entre clientes via cabeÃ§alhos de organizaÃ§Ã£o (Tenants).âœ¨ FeaturesOrganizaÃ§Ã£o tÃ©cnica das capacidades do sistema:ğŸ–¥ï¸ Server Metrics: CPU, RAM, Disk e Network via Node Exporter.ğŸ³ Container Monitoring: EstatÃ­sticas granulares por container via cAdvisor.ğŸ—„ï¸ Database Monitoring: Suporte para MySQL, MariaDB e PostgreSQL.ğŸ“‹ Log Aggregation: CentralizaÃ§Ã£o de logs do sistema via Loki e Promtail.ğŸŒ HTTP/SSL Probes: Monitoramento de uptime e expiraÃ§Ã£o de certificados.ğŸ‘¥ Multi-tenant: Dashboards isolados por cliente: um usuÃ¡rio nunca acessa dados de outro.ğŸ—ï¸ ArchitectureO fluxo de dados Ã© direto e otimizado para seguranÃ§a:Plaintext[Client Server]  â†’  HTTPS (metrics + logs)  â†’  [Monitoring Server]
 Prometheus Agent                                Mimir (metrics)
 Promtail (logs)                                 Loki (logs)
 Node/cAdvisor                                   Grafana (dashboards)
 DB Exporters                                    Blackbox (probes)
ğŸš€ Quick Start1. Central Server SetupBashgit clone https://github.com/rofilho/grafana-multitenant-stack.git
cd grafana-multitenant-stack
chmod +x scripts/setup.sh
./scripts/setup.sh
2. Onboarding de ClienteOrganize o processo em trÃªs etapas rÃ¡pidas:Gerar pacote no servidor: ./scripts/onboard_client.sh meu-cliente monitoring.dominio.comTransferir para o cliente: scp -r ./dist/client-meu-cliente/ user@ip-cliente:~/Subir agentes no cliente: docker compose up -dğŸ“‹ ParÃ¢metros e RequisitosRecursoRequisito MÃ­nimoObservaÃ§Ã£oCPU2 vCPUsRecomendado para o stack centralRAM4 GBMÃ­nimo para rodar Mimir e Loki de forma estÃ¡velDisco20 GB SSDVariÃ¡vel de acordo com a retenÃ§Ã£o de logsOSUbuntu 22.04+Testado e homologado nesta distribuiÃ§Ã£oğŸ“‚ Project StructureA organizaÃ§Ã£o segue o padrÃ£o de diretÃ³rios para fÃ¡cil manutenÃ§Ã£o:configs/: Arquivos de definiÃ§Ã£o do Mimir, Loki e Tempo.dashboards/: Templates JSON para provisionamento automÃ¡tico.scripts/: AutomaÃ§Ã£o de deploy e onboarding.docs/: Detalhamento de arquitetura e guias especÃ­ficos.ğŸ¤ ContribuiÃ§ÃµesSinta-se Ã  vontade para abrir uma Issue ou enviar um Pull Request.
